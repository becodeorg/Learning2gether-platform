{% extends 'base.html.twig' %}

{% block title %}L2G - {{ 'Forum' | trans}}{% endblock %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a class="crumb crumb-link" href="{{ path('portal') }}">{{ 'Learning Hub'|trans }}</a>
    </li>
    <li class="breadcrumb-item"><a class="crumb crumb-link" href="{{ path('forum') }}">{{ 'Forum'|trans }}</a></li>
    {% for crumb in currentTopic.forumBreadcrumbs(app.user.language, category) %}
        {{ include('partials/breadcrumbs.html.twig') }}
    {% endfor %}
{% endblock %}

{% block body %}


    {# <h2>Current Category</h2>
     {{ category.learningModule.title(language) }}<br>
     {{ category.learningModule.description(language) }} <br><br>#}


    <section class="example-wrapper">

        {#    TOPIC TITLE#}
        <h1 class="title-css">
            {{ currentTopic.title(language) }}
        </h1>

        {% for question in questions %}

            <div class="container ">

                <div class="row cards-forum center">

                    <div class="col-4 title-cards-forum">
                        {# Question text#}
                        {{ question.subject }}
                    </div>

                    <div class="col-2 questions-cards-forum">
                        {# Count Replies#}
                        <p>{{ postCount[question.id] }} answer(s)</p>
                    </div>

                    <div class="col-3 questions-cards-forum">
                        <p>By: {{ question.posts[0].getCreatedBy().username }}</p>
                    </div>

                    <div class="col-3">
                        {# Link to the question's detail page#}
                        <a class="btn-forum "
                           href="{{ path('question', {'category': category.id, 'chapter': currentTopic.id, 'question': question.id}) }}">
                            {{ 'Show' | trans }}
                        </a>
                    </div>
                </div>
            </div>
        {% endfor %}

        <section class="container topic-questions">
            {{ form_start(addQuestion) }}

            <section class="row question-row">
                <div class="col-3">
                    {# Form text #}
                    {{ form_label(addQuestion.question, 'Question Title:', { 'label_attr': {'class': 'question-text'} }) }}
                </div>
                <div class="col-9">
                    {# Form inputfield #}
                    {{ form_widget(addQuestion.question, {'attr': {'class': 'question-label'} }) }}
                </div>
            </section>

            <section class="row">
                <div class="col-3">
                    {# Form text #}
                    {{ form_label(addQuestion.questionDescription, 'Question Description:', { 'label_attr': {'class': 'questionDescription-text'} }) }}
                </div>

                <div class="col-9">
                    {# Form inputfield #}
                    {{ form_widget(addQuestion.questionDescription, {'attr': {'class': 'questionDescriptionTextbox questionDescription-label','rows': '5'} }) }}
                </div>
            </section>

            <button type="submit" class="btn-forum ">Send Question</button>

            {{ form_end(addQuestion) }}


        </section>
    </section>
{% endblock %}



